let questions = [
    {
        "prompt": "Which term best describes the economic system found in the United States?",
        "questions": [
            "mercantilism",
            "free enterprise",
            "Communism",
            "balance of trade"
        ],
        "answer": 1
    },
    {
        "prompt": "The common topic of all these speakers is the",
        "questions": [
            "free enterprise system",
            "growing power of unions",
            "effects of foreign competition",
            "safety of consumer products"
        ],
        "answer": 0
    },
    {
        "prompt": "Which individual held ideas similar to those of Speaker B?",
        "questions": [
            "Andrew Carnegie",
            "John D. Rockefeller",
            "Thomas Edison",
            "Samuel Gompers"
        ],
        "answer": 3
    },
    {
        "prompt": "A major cause of industrialization in the United States was the",
        "questions": [
            "Fourteenth Amendment",
            "Sherman Antitrrust Act",
            "development of labor unions",
            "expansion of railroads"
        ],
        "answer": 3
    },
    {
        "prompt": "Which statement about the Sherman Antitrust Act (1890) is most accurate?",
        "questions": [
            "It gave states the power of regulate interstate railways.",
            "It prohibited monopolies that unfairly restricted interstate commerce.",
            "It established the Federal Trade Commission.",
            "The Supreme Court ruled that it was unconsitiutional."
        ],
        "answer": 1
    },
    {
        "prompt": "The term \"robber barons\" is frequently used to describe the industrialists of the late nineteenth century because they",
        "questions": [
            "made large charitable donations to worthy causes",
            "sought greater profits by eliminating competition and exploiting workers",
            "attempted to stimulate the economy by keeping prices as low as possible",
            "opposed the entry of uneducated immigrants into the United States"
        ],
        "answer": 1
    },
    {
        "prompt": "The term \"Gilded Age\" suggests that in the latter part of the nineteenth century, Americans were primarily concerned with",
        "questions": [
            "materialistic goals",
            "social equality",
            "overseas expansion",
            "artistic achievement"
        ],
        "answer": 0
    },
    {
        "prompt": "In the nineteenth century, the industrialization of the United States became concentrated in the Northeast largely because",
        "questions": [
            "this region had the greatest supply of capital and labor",
            "the climate of the South was not suitable for industrial development",
            "other regions lacked good water transportation",
            "the West and South had few natural resources"
        ],
        "answer": 0
    },
    {
        "prompt": "What was the greatest problem facing American industrial workers in the late nineteenth century?",
        "questions": [
            "shortage of farm crops",
            "inability to vote in elections",
            "decreased rates charges by railroads",
            "harsh working conditions"
        ],
        "answer": 3
    },
    {
        "prompt": "Which was a major reason for the failure of nineteenth-century labor unions in the United States?",
        "questions": [
            "public disapproval of unions",
            "Congressional measures outlawing unions",
            "an abundance of technical workers",
            "workers were generally satisfied with working conditions"
        ],
        "answer": 0
    },
    {
        "prompt": "Which belief was shared by both the Knights of Labor and the American Federation of Labor?",
        "questions": [
            "Unions must limit their membership to become strong.",
            "Unskilled workers should be excluded from union membership.",
            "Workers should support socialist candidates.",
            "Labor requires a national voice."
        ],
        "answer": 3
    },
    {
        "prompt": "Which act occurred last?",
        "questions": [
            "Clayton Antitrust Act",
            "Homestead Act",
            "Sherman Antitrust Act",
            "Chinese Exclusion Act"
        ],
        "answer": 0
    },
    {
        "prompt": "Which statement is an opinion rather than a fact?",
        "questions": [
            "The Knights of Labor was organized in 1869.",
            "Thomas Edison invented the incandescent light bulb.",
            "The main reason for early business mergers was to limit competition.",
            "Early craft unions limited their membership to skilled workers."
        ],
        "answer": 2
    },
    {
        "prompt": "Which statement about immigration to the United States is most accurate?",
        "questions": [
            "Industrialization reduced the demand for cheap immigrant labor.",
            "A diverse immigrant population helped to create a pluralistic society.",
            "Organized labor generally favored unrestricted immigration.",
            "Most immigration legislation was passed to encourage immigration."
        ],
        "answer": 1
    },
    {
        "prompt": "Which was a common complaint of nativist groups in the United States during the late 19th and early 20th centuries?",
        "questions": [
            "Congress failed to protect domestic industries.",
            "Many immigrants brought customs and beliefs that were \"un-American.\"",
            "Too many elected officials came from immigrant backgrounds.",
            "Native American Indians should be given back their ancestral lands."
        ],
        "answer": 1
    },
    {
        "prompt": "An experience shared by most immigrants to the United States during the period 1880 to 1920 was that they",
        "questions": [
            "met with local prejudice",
            "settled in rural areas",
            "were rapidly assimilated into mainstream lifestyles",
            "joined radical political parties to bring about reform"
        ],
        "answer": 0
    },
    {
        "prompt": "Which would be a primary source of information about immigrants coming to the United States in 1880?",
        "questions": [
            "a textbook chapter on immigration policy",
            "a biography of a famous immigrant",
            "a news account about the re-opening of Ellis Island as a museum",
            "a diary of an immigrant who passed through Ellis Island"
        ],
        "answer": 3
    },
    {
        "prompt": "The influx of people from the country to the cities in the later nineteenth century resulted in",
        "questions": [
            "decreased literacy",
            "crowded slums and unsanitary conditions",
            "a decline in economic growth",
            "unused farmland"
        ],
        "answer": 1
    },
    {
        "prompt": "Which generalization concerning population trends during the nineteenth century is most clearly supported by the information provided by the graph?",
        "questions": [
            "Jobs attracted about 60% of the population to urban areas.",
            "Most immigrants moved to rural areas.",
            "Family size was greater in rural areas than in urban areas.",
            "The percentage of the population in urban areas grew."
        ],
        "answer": 3
    },
    {
        "prompt": "During the second half of the nineteenth century, the federal government encouraged the westward settlement of the United States by",
        "questions": [
            "making low-interest loans to settlers",
            "paying Western farmers to grow certain crops",
            "giving free land to homesteaders",
            "honoring Native American Indian territorial claims"
        ],
        "answer": 2
    },
    {
        "prompt": "A landless settler heading west in the 1860s would most likely have supported the passage of the",
        "questions": [
            "Dawes Act",
            "Homestead Act",
            "Sherman Antitrust Act",
            "\"Jim Crow\" laws"
        ],
        "answer": 1
    },
    {
        "prompt": "After the Civil War, the policy of the U.S. government toward Native American Indians was mainly one of",
        "questions": [
            "moving Native American Indians from ancestral lands onto reservations",
            "encouraging Native AMerican Indians to retain their customs and traditions",
            "educating society about the cultural heritage of Native American Indians",
            "shifting responsibility for Native American Indian affairs to state governments"
        ],
        "answer": 0
    },
    {
        "prompt": "The main purpose of antitrust legislation was to",
        "questions": [
            "promote mergers",
            "restrict foreign trade",
            "preserve business competition",
            "reduce union membership"
        ],
        "answer": 2
    },
    {
        "prompt": "A supporter of the Grange Movement would most likely also have supported",
        "questions": [
            "government regulation of railroads",
            "abolishing private property",
            "laissez-faire capitalism",
            "women's suffrage"
        ],
        "answer": 0
    },
    {
        "prompt": "Which factor was most likely a major cause of the trend shown by the chart?",
        "questions": [
            "a series of major droughts",
            "prices set by government regulations",
            "widespread crop failures",
            "overproduction"
        ],
        "answer": 3
    },
    {
        "prompt": "To protect themselves from the trend shown by the chart, American farmers wanted the federal government to",
        "questions": [
            "reduce regulation of the railroads",
            "increase the money supply",
            "pay for increased crop yields",
            "raise tariffs on foreign goods"
        ],
        "answer": 1
    },
    {
        "prompt": "A major aim of both the Grange and Populist Movements was",
        "questions": [
            "the establishment of a gold standard for currency",
            "mandatory government policies to curb inflation",
            "the passage of laws to regulate monopolies",
            "unlimited immigration of Asians"
        ],
        "answer": 2
    },
    {
        "prompt": "The Granger Laws were an attempt by various state legislatures to regulate",
        "questions": [
            "farmers",
            "railroads",
            "manufacturers",
            "factories"
        ],
        "answer": 1
    },
    {
        "prompt": "Which contributed to the birth of the Progressive Movement?",
        "questions": [
            "the influence of muckrackers, Populists, and social reformers",
            "the Stock Market Crash of 1929",
            "racial conflict in the New South",
            "the migration of population from cities to the country side"
        ],
        "answer": 0
    },
    {
        "prompt": "The muckrakers of the Progressive Era and the investigative reporters of the present day are most similar in that both have",
        "questions": [
            "sought to document corruption in American life",
            "advocated fewer government controls on the economy",
            "focused their efforts on increasing patriotism",
            "called for increased aid to developing nations"
        ],
        "answer": 0
    },
    {
        "prompt": "A study of the Progressive Movement would indicate that the Progressives",
        "questions": [
            "wished to ease immigration requirements",
            "sought to correct the abuses of industrial society",
            "opposed most of the Populist platform",
            "were mainly supported by big business"
        ],
        "answer": 1
    },
    {
        "prompt": "Which speaker would most likely support laissez-faire capitalism?",
        "questions": [
            "A",
            "B",
            "C",
            "D"
        ],
        "answer": 2
    },
    {
        "prompt": "Which speaker best expresses beliefs held by Robert La Follette?",
        "questions": [
            "A",
            "B",
            "C",
            "D"
        ],
        "answer": 1
    },
    {
        "prompt": "Many of Theodore Roosevelt's actions demonstrated his belief that the role of the President was to",
        "questions": [
            "act vigorously in the public interest",
            "follow the lead of Congress",
            "remain free from politics",
            "free business from burdensome government regulation"
        ],
        "answer": 0
    },
    {
        "prompt": "Theodore Roosevelt's Square Deal and Woodrow Wilson's New Freedom were primarily designed to",
        "questions": [
            "increase the power and influence of the United States in foreign affairs",
            "reduce the role of government in the economy",
            "help Americans cope with the problems caused by industrailization",
            "protect the constitutional rights of religious and racial minorities"
        ],
        "answer": 2
    },
    {
        "prompt": "The Federal Reserve System was established to",
        "questions": [
            "serve as a source for farm loans",
            "reform the practices of big business",
            "balance the federal budget",
            "regulate the circulation of money"
        ],
        "answer": 3
    },
    {
        "prompt": "The Women's Rights Movement of the late 19th century primarily focused its efforts on securing",
        "questions": [
            "Cabinet positions for women",
            "the reform of prisons",
            "equal rights for all minorities",
            "suffrage for women"
        ],
        "answer": 3
    },
    {
        "prompt": "Which headline best illustrates the concept of imperialism?",
        "questions": [
            "\"The Supreme Court Bans Segregation in Public Schools\"",
            "\"United Nations is Founded in San Francisco\"",
            "\"President McKindley Announces U.S. Annexation of the Philippines\"",
            "\"President Roosevelt Meets Japanese and Russian Leaders at Portsmouth\""
        ],
        "answer": 2
    },
    {
        "prompt": "The primary reason for the construction of the Panama Canal was the need to",
        "questions": [
            "increase the security and power of the United States",
            "spread the American way of life to less developed nations",
            "encourage the economic development of Central America",
            "stop the spread of Communism in the Western Hemisphere"
        ],
        "answer": 0
    },
    {
        "prompt": "Which U.S. foreign policy does the cartoon to the right depict?",
        "questions": [
            "Open Door Policy",
            "isolationism",
            "Big Stick Policy",
            "neutrality"
        ],
        "answer": 2
    },
    {
        "prompt": "A primary aim of the \"Open Door\" Policy was to",
        "questions": [
            "encourage Chinese citizens to emigrate to other nations",
            "preserve American trade with China",
            "develop China's industrial capacity",
            "introduce democratic government into China"
        ],
        "answer": 1
    },
    {
        "prompt": "In Schenck v. United States, the Supreme Court decided that a \"clear and present danger\" to the United States perrmitted",
        "questions": [
            "an expansion of Presidental power",
            "restrictions on 1st Amendment rights",
            "establishment of a peacetime draft",
            "limitations on the right to vote"
        ],
        "answer": 1
    },
    {
        "prompt": "Which was a major result of World War I?",
        "questions": [
            "American troops occupied Japan.",
            "The Austro-Hungarian empire was divided into smaller nations.",
            "The Soviet Union gained control of Eastern Europe.",
            "Britain and France lost their colonies."
        ],
        "answer": 1
    },
    {
        "prompt": "A major reason why some members of the U.S. Senate objected to joining the League of Nations was their opposition to",
        "questions": [
            "lower tariffs",
            "freedom of the seas",
            "potential military commitments",
            "German membership in the League"
        ],
        "answer": 2
    },
    {
        "prompt": "The refusal of the United States to join the League of Nations illustrated the policy known as",
        "questions": [
            "Manifest Destiny",
            "imperialism",
            "neutrality",
            "isolationism"
        ],
        "answer": 3
    },
    {
        "prompt": "What would someone be called who supported immigration quotas, the execution of Sacco and Vanzetti, and the rebirth of the Ku Klux Klan?",
        "questions": [
            "a rugged individualist",
            "an imperialist",
            "a nativist",
            "a mercantilist"
        ],
        "answer": 2
    },
    {
        "prompt": "The boom years of the 1920s were characterized by",
        "questions": [
            "decreases in both agricultural surpluses and farm foreclosures",
            "limited investment capital and declining jobs",
            "widespread use of the automobile and an increase in consumer purchases",
            "increased regulation of the economy by the federal and state governments"
        ],
        "answer": 2
    },
    {
        "prompt": "The \"Harlem Renaissance\" refers to the",
        "questions": [
            "artistic style of the first Dutch settlers in New York",
            "regiment of African American soldiers in World War I",
            "flourishing of African-American literature and music during the 1920s",
            "blossoming of Hispanic culture in New York during the 1960s"
        ],
        "answer": 2
    },
    {
        "prompt": "Which generalization most accurately describes the literary works of Langston Hughes, Sinclair Lewis, and John Steinbeck?",
        "questions": [
            "Politics and art seldom mix well.",
            "The best literature concerns the lives of the wealthy.",
            "Literature often reflects the times in which it is created.",
            "Traditional American themses are the most popular."
        ],
        "answer": 2
    },
    {
        "prompt": "Which was an immediate effect of the use of new production techniques during the period 1900 to 1929?",
        "questions": [
            "a loss of commitment to the work ethic",
            "a flood of new consumer products on the market",
            "an increase in the rate of unemployment",
            "decline in business profits"
        ],
        "answer": 1
    },
    {
        "prompt": "What was an important effect of the growth of the automobile industry after World War I?",
        "questions": [
            "It stimulated other new industries.",
            "There were decreased employment opportunities.",
            "There was in increased number of railroad passengers.",
            "It encouraged the government operation of major industries."
        ],
        "answer": 0
    },
    {
        "prompt": "Which lesson is best supported by a study of Prohibition",
        "questions": [
            "Social attitudes can make some laws difficult to enforce.",
            "Increased taxes can affect consumer spending.",
            "Morality can be legislated successfully.",
            "People will sacrifice willingly for the common good."
        ],
        "answer": 0
    },
    {
        "prompt": "Which was an important cause of the Great Depression?",
        "questions": [
            "speculation on the stock market",
            "shortages of consumer goods",
            "the collapse of the international gold standard",
            "higher oil and farm prices"
        ],
        "answer": 0
    },
    {
        "prompt": "Before the New Deal, the basic approach of the federal government towards handling depressions was to",
        "questions": [
            "allow the economy to adjust itself",
            "ask other nations for economic aid",
            "enact public spending programs",
            "issue more silver coinage"
        ],
        "answer": 0
    },
    {
        "prompt": "Which statement best describes Franklin Roosevelt's New Deal programs?",
        "questions": [
            "They reduced the number of government employees.",
            "They expanded the economic role of the federal government.",
            "They relies mainly on local government leadership.",
            "They emphasized the importance of the gold standard."
        ],
        "answer": 1
    },
    {
        "prompt": "Which factor best explains the decline in the number of bank failures by 1937?",
        "questions": [
            "New banking laws restored public confidence in banks.",
            "Most people were too poor to have any bank savings.",
            "The government was now operating all the nation's banks.",
            "Most Americans transferred their savings to foreign banks."
        ],
        "answer": 0
    },
    {
        "prompt": "Which groups were most helped by the Wagner Act and the Social Security Act?",
        "questions": [
            "farmers and homeowners",
            "stockbrokers and investors",
            "large businesses and corporations",
            "labor unions and workers"
        ],
        "answer": 3
    },
    {
        "prompt": "The primary purpose of the Social Security Act of 1935 was to",
        "questions": [
            "achieve integrated public schools",
            "provide old age and unemploymenty insurance",
            "regulate international trade",
            "guarantee collective bargaining"
        ],
        "answer": 1
    },
    {
        "prompt": "Many opponents of the New Deal claimed that its programs violated the American tradition of",
        "questions": [
            "welfare capitalism",
            "collective bargaining",
            "government regulation of business",
            "individual responsibility"
        ],
        "answer": 3
    },
    {
        "prompt": "What is the main idea of the cartoon?",
        "questions": [
            "President Roosevelt used a system of trial and error to improve the economy.",
            "Congress and the President were unable to cope with the Great Depression.",
            "President Roosevelt always followed the recommendations of the Congress.",
            "The President and Congress constantly fought over Depression era programs."
        ],
        "answer": 0
    },
    {
        "prompt": "Which branch of the national government declared early New Deal legislation unconsitiutional?",
        "questions": [
            "the Senate",
            "the Supreme Court",
            "the President",
            "the House of Representatives"
        ],
        "answer": 1
    },
    {
        "prompt": "Roosevelt's election to a fourth Presidental term can be attributed to the",
        "questions": [
            "blame placed on Republicans for the country's economic problems",
            "need to continue efforts to cope with rising farm prices",
            "unwillingness of voters to change leadership during a major crisis",
            "decreasing popularity of the New Deal"
        ],
        "answer": 2
    }
]

function shuffle(array) {
    let currentIndex = array.length;

    // While there remain elements to shuffle...
    while (currentIndex != 0) {

        // Pick a remaining element...
        let randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex--;

        // And swap it with the current element.
        [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
    }
}

start();

function start() {
    shuffle(questions);
    for (let i = 0; i < questions.length; i++) {
        questions[i].answer = questions[i].questions[questions[i].answer];
        shuffle(questions[i].questions)
        questions[i].answer = questions[i].questions.indexOf(questions[i].answer)
    }

    let answers = []
    for (let i = 0; i < questions.length; i++) {
        let txt = `Question ${i+1}/${questions.length}:\n${questions[i].prompt}`
        for (let j = 0; j < questions[i].questions.length; j++) {
            txt += `\n${j+1}: ${questions[i].questions[j]}`
        }
        txt += `\n\nYou must input a number corresponding to your answer. Type "quit" to quit this early.`
        let ans = prompt(txt)
        if (ans == "quit") { throw new Error("quit") }
        answers.push(ans - 1)
    }

    let points = 0
    let counted = questions.length
    for (let i = 0; i < questions.length; i++) {
        if (isNaN(questions[i].answer)) {
            counted--
            console.log(`Question ${i+1}\n${questions[i].prompt}\nYour answer: ${questions[i].questions[answers[i]]}\nCorrect answer: undefined (Invalid! This question will not be counted.)`)
        }
        if (answers[i] === questions[i].answer) {
            points++
        } else {
            if (questions[i].questions[questions[i].answer] === undefined) {
                console.error(`Question ${i+1}\n${questions[i].prompt}\nYour answer: ${questions[i].questions[answers[i]]} (Invalid answer)\nCorrect answer: ${questions[i].questions[questions[i].answer]}`)
            } else {
                console.warn(`Question ${i+1}\n${questions[i].prompt}\nYour answer: ${questions[i].questions[answers[i]]}\nCorrect answer: ${questions[i].questions[questions[i].answer]}`)
            }
            
        }
    }

    console.log(`\n%cPoints: ${points} / ${questions.length} (${(points / questions.length * 100).toFixed(1)}%)`, "font-size: 24px")
}

function makeQuestions() {
    let amt = 22
    for (let i = 0; i < amt; i++) {
        questions[i] = {prompt: "", questions: ["", "", "", ""], answer: 0}
        questions[i].prompt = prompt(`Question ${i+1}/ ${amt}, Prompt:`)
        if (questions[i].prompt == "quit") { throw new Error("quit") }
        for (let j = 0; j < 4; j++) {
            questions[i].questions[j] = prompt(`Question ${i+1}/ ${amt}, Answer ${j+1}:`)
            if (questions[i].questions[j] == "quit") { throw new Error("quit") }
        }
        questions[i].answer = prompt(`Question ${i+1}/ ${amt}, Correct Answer:`) - 1
        if (questions[i].answer == "quit") { throw new Error("quit") }
    }
    console.log(JSON.stringify(questions))
}